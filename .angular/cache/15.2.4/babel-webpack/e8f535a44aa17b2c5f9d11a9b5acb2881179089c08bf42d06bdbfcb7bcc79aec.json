{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { take } from 'rxjs';\nimport * as ClassicEditorBuild from '@ckeditor/ckeditor5-build-classic';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/recipe.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ckeditor/ckeditor5-angular\";\nconst _c0 = [\"ckbox\"];\nfunction AddRecipeComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \"Il campo titolo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRecipeComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \"Il campo descrizione \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRecipeComponent_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \"Il campo url immagine \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRecipeComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \"Il campo difficolt\\u00E0 \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRecipeComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h3\");\n    i0.ɵɵtext(2, \"Ricetta Aggiunta!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function AddRecipeComponent_ng_template_30_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const modal_r6 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r6.dismiss());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"h4\");\n    i0.ɵɵtext(6, \"Riepilogo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 16)(12, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddRecipeComponent_ng_template_30_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const modal_r6 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r6.dismiss());\n    });\n    i0.ɵɵtext(13, \"CHIUDI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function AddRecipeComponent_ng_template_30_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const modal_r6 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r6.close());\n    });\n    i0.ɵɵtext(15, \"AGGIUNGI ALTRA RICETTA\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Titolo: \", ctx_r5.ricettaInserita.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Descrizione: \", ctx_r5.ricettaInserita.description, \"\");\n  }\n}\nexport class AddRecipeComponent {\n  constructor(router, recipeService, modalService) {\n    this.router = router;\n    this.recipeService = recipeService;\n    this.modalService = modalService;\n    this.form = new FormGroup({\n      title: new FormControl('', Validators.required),\n      description: new FormControl('', Validators.required),\n      image: new FormControl('', Validators.required),\n      difficulty: new FormControl('', Validators.required)\n    });\n    this.Editor = ClassicEditorBuild;\n    this.editorConfig = {\n      toolbar: {\n        items: ['bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'indent', 'outdent', '|', 'codeBlock', 'imageUpload', 'blockQuote', 'insertTable', 'undo', 'redo']\n      },\n      image: {\n        toolbar: ['imageStyle:full', 'imageStyle:side', '|', 'imageTextAlternative']\n      },\n      table: {\n        contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']\n      },\n      height: 300\n    };\n  }\n  onSubmit() {\n    // console.log(this.form.value);\n    const newRecipe = {\n      title: this.form.value.title,\n      description: this.form.value.description,\n      image: this.form.value.image,\n      difficulty: this.form.value.difficulty,\n      published: true\n    };\n    this.recipeService.postRecipe(newRecipe).pipe(take(1)).subscribe({\n      next: res => {\n        console.log(res);\n        this.ricettaInserita = res;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  open(content) {\n    this.onSubmit();\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modale add recipes',\n      size: 'lg',\n      centered: true\n    }).result.then(() => {\n      //console.log('azione da eseguire')\n      this.form.reset();\n    }).catch(res => {\n      this.ricettaInserita = '';\n      this.router.navigate(['ricette']);\n      //console.log('nessuna azione da eseguire')\n    });\n  }\n}\n\nAddRecipeComponent.ɵfac = function AddRecipeComponent_Factory(t) {\n  return new (t || AddRecipeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.RecipeService), i0.ɵɵdirectiveInject(i3.NgbModal));\n};\nAddRecipeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddRecipeComponent,\n  selectors: [[\"app-add-recipe\"]],\n  viewQuery: function AddRecipeComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ckboxRoot = _t.first);\n    }\n  },\n  decls: 32,\n  vars: 7,\n  consts: [[1, \"container-main-form\"], [1, \"container-form\"], [1, \"contenitore-form\", 3, \"formGroup\", \"onSubmit\"], [1, \"form-element\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"formControlName\", \"title\", 1, \"form-control\"], [\"class\", \"danger\", 4, \"ngIf\"], [\"formControlName\", \"description\", 1, \"descrizioneRicetta\", 3, \"editor\", \"config\"], [\"type\", \"text\", \"id\", \"image\", \"name\", \"image\", \"formControlName\", \"image\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"difficulty\", \"name\", \"difficulty\", \"formControlName\", \"difficulty\", 1, \"form-control\"], [1, \"container-btn-form\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"modaleAddRecipes\", \"\"], [1, \"danger\"], [1, \"modal-header\"], [\"type\", \"button\", \"aria-label\", \"close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"routerLink\", \"recipes\", 1, \"btn\", 3, \"click\"], [\"type\", \"button\", \"ngbAutoFocus\", \"\", \"ruterLink\", \"addRecipe\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function AddRecipeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r11 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"Inserisci una nuova ricetta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"onSubmit\", function AddRecipeComponent_Template_form_onSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\")(6, \"div\", 3)(7, \"label\");\n      i0.ɵɵtext(8, \"Titolo ricetta:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 4);\n      i0.ɵɵtemplate(10, AddRecipeComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\");\n      i0.ɵɵtext(13, \"Descrizione ricetta:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\")(15, \"ckeditor\", 6);\n      i0.ɵɵtemplate(16, AddRecipeComponent_p_16_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n      i0.ɵɵtext(19, \"Inserisci l'url dell'immagine:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 7);\n      i0.ɵɵtemplate(21, AddRecipeComponent_p_21_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\");\n      i0.ɵɵtext(24, \"Inserisci la difficolt\\u00E0 da 1 a 5:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 8);\n      i0.ɵɵtemplate(26, AddRecipeComponent_p_26_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 9)(28, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function AddRecipeComponent_Template_button_click_28_listener() {\n        i0.ɵɵrestoreView(_r11);\n        const _r4 = i0.ɵɵreference(31);\n        return i0.ɵɵresetView(ctx.open(_r4));\n      });\n      i0.ɵɵtext(29, \"Pubblica Ricetta\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(30, AddRecipeComponent_ng_template_30_Template, 16, 2, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.form.get(\"title\")) == null ? null : tmp_1_0.valid) && ctx.form.get(\"title\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"editor\", ctx.Editor)(\"config\", ctx.editorConfig);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_4_0 = ctx.form.get(\"description\")) == null ? null : tmp_4_0.valid) && ctx.form.get(\"description\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_5_0 = ctx.form.get(\"image\")) == null ? null : tmp_5_0.valid) && ctx.form.get(\"image\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_6_0 = ctx.form.get(\"difficulty\")) == null ? null : tmp_6_0.valid) && ctx.form.get(\"difficulty\").touched);\n    }\n  },\n  dependencies: [i4.NgIf, i1.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.CKEditorComponent],\n  styles: [\".container-main-form[_ngcontent-%COMP%] {\\n  background-image: url(\\\"https://www.aafoodservice.com/wp-content/themes/custom-theme/img/slider-v1704.jpg\\\");\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  height: 800px;\\n  margin: 0px;\\n  padding: 0px;\\n  padding-top: 70px;\\n  margin-bottom: -25px;\\n}\\n\\n.container-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  flex-wrap: wrap;\\n  align-content: center;\\n  justify-content: space-evenly;\\n  width: 50%;\\n  margin-left: 25%;\\n  padding: 30px 30px;\\n  background-color: rgba(255, 255, 255, 0.725);\\n  border-radius: 1rem;\\n}\\n.container-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 27px;\\n  color: #8e210b;\\n  font-family: \\\"Homemade Apple\\\", cursive !important;\\n  margin-bottom: -3px;\\n}\\n.container-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  padding-bottom: 5px;\\n}\\n.container-form[_ngcontent-%COMP%]   .container-btn-form[_ngcontent-%COMP%] {\\n  margin-top: 25px;\\n  padding-left: 30%;\\n}\\n.container-form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 10px;\\n}\\n\\n.danger[_ngcontent-%COMP%] {\\n  color: #d02020;\\n  font-weight: bold;\\n  font-size: 12px;\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  background-color: #8e210b;\\n}\\n.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-family: \\\"Homemade Apple\\\", cursive !important;\\n  color: white;\\n  margin-left: 31%;\\n  margin-top: 10px;\\n}\\n\\n.modal-body[_ngcontent-%COMP%] {\\n  padding: 10px;\\n}\\n.modal-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2VyL2FkZC1yZWNpcGUvYWRkLXJlY2lwZS5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMvY29sb3JzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDSSwwR0FBQTtFQUNBLDJCQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFESjs7QUFJQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0EsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDRDQUFBO0VBQ0EsbUJBQUE7QUFESjtBQUdJO0VBQ0ksZUFBQTtFQUNBLGNDNUJVO0VENkJWLGlEQUFBO0VBQ0EsbUJBQUE7QUFEUjtBQUtJO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtBQUhSO0FBTUk7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0FBSlI7QUFRSTtFQUNJLFdBQUE7RUFHQSxtQkFBQTtBQVJSOztBQVlBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtBQVRKOztBQWFBO0VBQ0kseUJDN0RjO0FEbURsQjtBQVlJO0VBQ0ksZUFBQTtFQUNBLGlEQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFWUjs7QUFjQTtFQUNJLGFBQUE7QUFYSjtBQWFJO0VBQ0ksaUJBQUE7RUFDQSxlQUFBO0FBWFIiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vLi4vc3R5bGVzL2NvbG9ycy5zY3NzXCI7XG5cbi5jb250YWluZXItbWFpbi1mb3Jte1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnaHR0cHM6Ly93d3cuYWFmb29kc2VydmljZS5jb20vd3AtY29udGVudC90aGVtZXMvY3VzdG9tLXRoZW1lL2ltZy9zbGlkZXItdjE3MDQuanBnJyk7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBoZWlnaHQ6IDgwMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBwYWRkaW5nLXRvcDogNzBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAtMjVweDtcblxufVxuLmNvbnRhaW5lci1mb3Jte1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBtYXJnaW4tbGVmdDogMjUlO1xuICAgIHBhZGRpbmc6IDMwcHggMzBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzI1KTtcbiAgICBib3JkZXItcmFkaXVzOiAxcmVtO1xuXG4gICAgaDN7XG4gICAgICAgIGZvbnQtc2l6ZTogMjdweDtcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LWNvbG9yLTE7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnSG9tZW1hZGUgQXBwbGUnLCBjdXJzaXZlIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogLTNweDtcblxuICAgIH1cblxuICAgIGxhYmVse1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICB9XG5cbiAgICAuY29udGFpbmVyLWJ0bi1mb3Jte1xuICAgICAgICBtYXJnaW4tdG9wOiAyNXB4O1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDMwJTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLmZvcm0tZWxlbWVudHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIC8vcGFkZGluZy1sZWZ0OiA1JTtcbiAgICAgICAgLy9wYWRkaW5nLXJpZ2h0OiA1JTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB9XG59XG5cbi5kYW5nZXIge1xuICAgIGNvbG9yOiAjZDAyMDIwO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuXG4ubW9kYWwtaGVhZGVye1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRwcmltYXJ5LWNvbG9yLTE7XG5cbiAgICBoM3tcbiAgICAgICAgZm9udC1zaXplOiAyOHB4O1xuICAgICAgICBmb250LWZhbWlseTogJ0hvbWVtYWRlIEFwcGxlJywgY3Vyc2l2ZSFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDMxJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICB9XG59XG5cbi5tb2RhbC1ib2R5e1xuICAgIHBhZGRpbmc6IDEwcHg7XG5cbiAgICBoNHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICB9XG59XG4iLCIvL3ByaW1hcnkgY29sb3JzXG4kcHJpbWFyeS1jb2xvci0xOiAjOGUyMTBiO1xuJHByaW1hcnktY29sb3ItMjogIzczOTkwMDtcblxuLy9zZWNvbmRhcnkgY29sb3JzXG4kc2Vjb25kYXJ5LWNvbG9yLTE6IHdoaXRlO1xuJHNlY29uZGFyeS1jb2xvci0yOiByZ2IoMTU5LCAxNDksIDE0OSk7XG4kc2Vjb25kYXJ5LWNvbG9yLTM6IHJnYigxMTMsIDEwNSwgMTA1KTtcbiRzZWNvbmRhcnktY29sb3ItNDogcmdiKDYxLCA1NywgNTcpO1xuJHNlY29uZGFyeS1jb2xvci01OiByZ2IoMCwgMCwgMCk7Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","FormControl","Validators","take","ClassicEditorBuild","i0","AddRecipeComponent","constructor","router","recipeService","modalService","title","required","description","image","difficulty","toolbar","items","table","contentToolbar","height","onSubmit","newRecipe","form","value","published","postRecipe","pipe","subscribe","next","res","console","log","ricettaInserita","error","err","open","content","ariaLabelledBy","size","centered","result","then","reset","catch","navigate","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/Users/giulia/Documents/Progetti/cibando/client/src/app/components/user/add-recipe/add-recipe.component.ts","/Users/giulia/Documents/Progetti/cibando/client/src/app/components/user/add-recipe/add-recipe.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { RecipeService } from 'src/app/services/recipe.service';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { take } from 'rxjs';\nimport * as ClassicEditorBuild from '@ckeditor/ckeditor5-build-classic';\n\n@Component({\n  selector: 'app-add-recipe',\n  templateUrl: './add-recipe.component.html',\n  styleUrls: ['./add-recipe.component.scss'],\n  \n})\n\n\nexport class AddRecipeComponent {\n  @ViewChild(\"ckbox\") ckboxRoot?: ElementRef;\n\n  ricettaInserita: any;\n\n  form = new FormGroup({\n    title: new FormControl('', Validators.required),\n    description: new FormControl('', Validators.required),\n    image: new FormControl('', Validators.required),\n    difficulty: new FormControl('', Validators.required),\n  })\n\n  Editor = ClassicEditorBuild;\n\n  editorConfig = {\n    toolbar: {\n        items: [\n            'bold',\n            'italic',\n            'link',\n            'bulletedList',\n            'numberedList',\n            '|',\n            'indent',\n            'outdent',\n            '|',\n            'codeBlock',\n            'imageUpload',\n            'blockQuote',\n            'insertTable',\n            'undo',\n            'redo',\n        ]\n    },\n    image: {\n        toolbar: [\n            'imageStyle:full',\n            'imageStyle:side',\n            '|',\n            'imageTextAlternative'\n        ]\n    },\n    table: {\n        contentToolbar: [\n            'tableColumn',\n            'tableRow',\n            'mergeTableCells'\n        ]\n    },\n    height: 300,\n};\n\n\n  constructor( \n    private router: Router,\n    private recipeService: RecipeService,\n    private modalService: NgbModal){}\n\n  onSubmit(){\n    // console.log(this.form.value);\n    const newRecipe = {\n     title: this.form.value.title,\n     description: this.form.value.description,\n     image: this.form.value.image,\n     difficulty: this.form.value.difficulty,\n     published: true\n    }\n\n    this.recipeService.postRecipe(newRecipe).pipe(take(1))\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.ricettaInserita = res;\n      },\n      error: (err) => {\n        console.log(err)\n      }});\n    \n   }\n\n\n\n\n\n   open(content: any){\n    this.onSubmit();\n    this.modalService.open(content, { ariaLabelledBy: 'modale add recipes', size: 'lg', centered: true}).result.then(() =>{\n      //console.log('azione da eseguire')\n      this.form.reset();\n\n    }).catch((res) => {\n      this.ricettaInserita = '';\n      this.router.navigate(['ricette']);\n      //console.log('nessuna azione da eseguire')\n    });\n   }\n\n}\n","<div class=\"container-main-form\">\n    <div class=\"container-form\">\n        <h3>Inserisci una nuova ricetta</h3>\n        <form class=\"contenitore-form\" [formGroup]=\"form\" (onSubmit)=\"onSubmit()\">\n            <div>\n                <div class=\"form-element\">\n                    <label>Titolo ricetta:</label>\n                    <input type=\"text\" id=\"title\" name=\"title\" class=\"form-control\" formControlName=\"title\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('title')?.valid && form.get('title').touched\">Il campo titolo è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Descrizione ricetta:</label>\n                    <br>\n                    <ckeditor [editor]=\"Editor\" [config]=\"editorConfig\" class=\"descrizioneRicetta\" formControlName=\"description\"></ckeditor>\n\n                    <p class=\"danger\" *ngIf=\"!form.get('description')?.valid && form.get('description').touched\">Il campo descrizione è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Inserisci l'url dell'immagine:</label>\n                    <input type=\"text\" id=\"image\" name=\"image\" class=\"form-control\" formControlName=\"image\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('image')?.valid && form.get('image').touched\">Il campo url immagine è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Inserisci la difficoltà da 1 a 5:</label>\n                    <input type=\"text\" id=\"difficulty\" name=\"difficulty\" class=\"form-control\" formControlName=\"difficulty\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('difficulty')?.valid && form.get('difficulty').touched\">Il campo difficoltà è obbligatorio</p>\n                </div>\n                <div class=\"container-btn-form\">\n                    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"open(modaleAddRecipes)\">Pubblica Ricetta</button>\n                </div>\n            </div>\n            \n\n        </form>\n        \n    </div>\n    \n</div>\n\n\n<ng-template #modaleAddRecipes let-modal>\n    <div class=\"modal-header\">\n        <h3>Ricetta Aggiunta!</h3>\n        <button type=\"button\" class=\"btn-close\" aria-label=\"close\" (click)=\"modal.dismiss()\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <h4>Riepilogo:</h4>\n        <p>Titolo: {{ricettaInserita.title}}</p>\n        <p>Descrizione: {{ricettaInserita.description}}</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn\" (click)=\"modal.dismiss()\" routerLink=\"recipes\">CHIUDI</button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.close()\" ngbAutoFocus ruterLink=\"addRecipe\">AGGIUNGI ALTRA RICETTA</button>\n      </div>\n</ng-template>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}